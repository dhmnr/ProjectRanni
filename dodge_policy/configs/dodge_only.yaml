# Dodge-Only Policy Training Configuration
# Agent always walks forward, only decides when to dodge

exp_name: "dodge_only"
seed: 42

# Logging
log_dir: "logs"
track: true
wandb_project: "ProjectRanni-DodgePolicy"
wandb_entity: "dhmnr-projects"

# Checkpointing
checkpoint_dir: "checkpoints"
save_freq: 10

# Dodge window model for reward shaping
dodge_window_model: "dodge_windows_expert.json"
dodge_window_reward: 2.0  # Reward for dodging in correct window

# World model for reward shaping (P(hit) based)
world_model: "world_model_v2.npz"
world_model_danger_penalty: -1.0    # Penalty for being in high P(hit) state without dodging
world_model_dodge_bonus: 1.0        # Bonus for dodging when it reduces P(hit)
world_model_danger_threshold: 0.3   # P(hit) above this is "dangerous"
world_model_dodge_benefit_threshold: 0.05  # Minimum P(hit) reduction to reward dodge

# Training hyperparameters
num_steps: 2048
total_timesteps: 500_000
learning_rate: 0.001
gamma: 0.99
gae_lambda: 0.95

# PPO
clip_eps: 0.2
ent_coef: 0.01
vf_coef: 0.5
max_grad_norm: 0.5
update_epochs: 8
num_minibatches: 8

# Network
hidden_dim: 256
anim_embed_dim: 32

# Environment
env:
  env_id: "Margit-v0"
  host: "192.168.48.1:50051"
  launch_game: false
  save_file_name: "ER0000.Margit-v0.sl2"
  save_file_dir: "C:\\Users\\DM\\AppData\\Roaming\\EldenRing\\76561198217475593"
  boundary_path: "paths/margit_arena_boundary.json"
  soft_margin: 5.0
  hard_margin: 0.5
  hit_penalty: -2.0
  dodge_penalty: -0.5
  danger_zone_penalty: 0.0
  oob_penalty: 0.0
  engage_reward: 0.0
  engage_distance: 8.0
  disengage_penalty: 0.0
  refund_player_hp: true
  refund_boss_hp: false
  live_plot: false
